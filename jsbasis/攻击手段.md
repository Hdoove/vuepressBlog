### 攻击手段

### 一、XSS攻击

XSS 攻击是指浏览器中执行恶意脚本(无论是跨域还是同域)，从而拿到用户的信息并进行操作。

一般可以完成下列事情：

- 窃取Cookie。
- 监听用户行为，比如输入账号密码后直接发送到黑客服务器。
- 修改 DOM 伪造登录表单。
- 在页面中生成浮窗广告。

#### 1. 反射型

反射型XSS指的是恶意脚本作为网络请求的一部分。

#### 2. 存储型

存储型的 XSS 将脚本存储到了服务端的数据库，然后在客户端执行这些脚本，从而达到攻击的效果。

#### 3. DOM型

文档型的 XSS 攻击并不会经过服务端，而是作为中间人的角色，在数据传输过程劫持到网络数据包，然后修改里面的 html 文档！

#### 4.防范手段

- 一个信念: 不要相信用户的输入，对输入内容转码或者过滤，让其不可执行。
- 两个利用: 利用 CSP，利用 Cookie 的 HttpOnly 属性。


### 二、CSRF攻击

跨站请求伪造，指的是黑客诱导用户点击链接，打开黑客的网站，然后黑客利用用户目前的登录状态发起跨站请求。

- 自动发送GET请求
- 自动发送POST请求
- 诱导点击发送GET请求

#### 1.防范措施

1.利用Cookie的SameSite属性

SameSite可以设置为三个值，Strict、Lax和None。

- a. 在Strict模式下，浏览器完全禁止第三方请求携带Cookie。比如请求sanyuan.com网站只能在sanyuan.com域名当中请求才能携带 Cookie，在其他网站请求都不能。
- b. 在Lax模式，就宽松一点了，但是只能在 get 方法提交表单况或者a 标签发送 get 请求的情况下可以携带 Cookie，其他情况均不能。
- c. 在None模式下，也就是默认模式，请求会自动携带上 Cookie。

2.验证来源站点

- origin 只包含域名信息
- Referer 包含完整的URL路径

3.Token

4.验证码

